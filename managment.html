<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dayflow - Login & Registration</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="managment.css">
</head>
<body>

    <div class="container" id="main-container">
        <h2 id="form-title">Sign In</h2>

        <form id="login-form">
            <div class="input-group">
                <label>Email</label>
                <input type="email" id="login-email" placeholder="Enter your email" required>
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="login-pass" placeholder="Enter password" required>
            </div>
            <button type="button" onclick="handleLogin()">Log In</button>
            <div class="toggle-text">
                Don't have an account? <a onclick="toggleForms()" style="cursor:pointer; color:blue;">Sign Up</a>
            </div>
        </form>

        <form id="signup-form" class="hidden" style="display:none;">
            <div class="input-group">
                <label id="dynamic-id-label">Employee ID</label>
                <input type="text" id="signup-empid" placeholder="e.g., EMP001" required>
            </div>
            <div class="input-group">
                <label>Email</label>
                <input type="email" id="signup-email" placeholder="name@company.com" required>
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="signup-pass" placeholder="Create a strong password" required>
            </div>
            <div class="input-group">
                <label>Role</label>
                <select id="signup-role" onchange="updateRoleLabel()">
                    <option value="Employee">Employee</option>
                    <option value="Admin">HR / Admin</option>
                </select>
            </div>
            <button type="button" onclick="handleSignUp()">Sign Up</button>
            <div class="toggle-text">
                Already have an account? <a onclick="toggleForms()" style="cursor:pointer; color:blue;">Sign In</a>
            </div>
        </form>
    </div>
    <div id="adminFeatures" class="hidden" style="display: none; width: 100%; height: 100vh;">
        <div style="display: flex; height: 100vh; background: #f3f4f6;">
            
            <div style="width: 250px; background: #1e293b; color: white; padding: 20px; display: flex; flex-direction: column;">
                <h3 style="margin-bottom: 30px; border-bottom: 1px solid #475569; padding-bottom: 10px;">
                    <i class="fas fa-user-shield"></i> Admin Panel
                </h3>
                
                <button onclick="showAdminSection('employees')" style="text-align:left; margin-bottom:10px; padding:12px; cursor:pointer; background:transparent; color:white; border:none; font-size:16px;">
                    <i class="fas fa-users"></i> Employees
                </button>
                <button onclick="showAdminSection('attendance')" style="text-align:left; margin-bottom:10px; padding:12px; cursor:pointer; background:transparent; color:white; border:none; font-size:16px;">
                    <i class="fas fa-calendar-check"></i> Attendance
                </button>
                <button onclick="showAdminSection('leaves')" style="text-align:left; margin-bottom:10px; padding:12px; cursor:pointer; background:transparent; color:white; border:none; font-size:16px;">
                    <i class="fas fa-envelope-open-text"></i> Leave Req.
                </button>
                <button onclick="showAdminSection('payroll')" style="text-align:left; margin-bottom:10px; padding:12px; cursor:pointer; background:transparent; color:white; border:none; font-size:16px;">
                    <i class="fas fa-money-bill-wave"></i> Payroll
                </button>
                
                <button onclick="location.reload()" style="margin-top:auto; background:#ef4444; color:white; padding:10px; border:none; border-radius:5px; cursor:pointer;">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>

            <div style="flex: 1; padding: 30px; overflow-y: auto;">
                
                <div id="section-employees">
                    <h2 style="color:#1e3a8a; margin-bottom:20px;">Manage Employees</h2>
                    <table border="1" style="width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #2563eb; color: white;">
                                <th style="padding:12px;">ID</th>
                                <th style="padding:12px;">Email</th>
                                <th style="padding:12px;">Job Title</th>
                                <th style="padding:12px;">Salary</th>
                            </tr>
                        </thead>
                        <tbody id="admin-emp-table"></tbody>
                    </table>
                </div>

                <div id="section-attendance" style="display:none;">
                    <h2 style="color:#1e3a8a; margin-bottom:20px;">Today's Attendance</h2>
                    <table border="1" style="width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #2563eb; color: white;">
                                <th style="padding:12px;">ID</th>
                                <th style="padding:12px;">Email</th>
                                <th style="padding:12px;">Check In</th>
                                <th style="padding:12px;">Status</th>
                            </tr>
                        </thead>
                        <tbody id="admin-att-table"></tbody>
                    </table>
                </div>

                <div id="section-leaves" style="display:none;">
                    <h2 style="color:#1e3a8a; margin-bottom:20px;">Pending Leave Requests</h2>
                    <div id="admin-leave-list"></div>
                </div>

                <div id="section-payroll" style="display:none;">
                    <h2 style="color:#1e3a8a; margin-bottom:20px;">Payroll Control</h2>
                    <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); width: 50%;">
                        <p><strong>Update Salary Structure:</strong></p>
                        <br>
                        <input type="text" id="salary-emp-id" placeholder="Employee ID (e.g. EMP001)" style="padding: 10px; width: 100%; margin-bottom: 10px; border:1px solid #ccc;">
                        <input type="number" id="salary-amount" placeholder="New Salary Amount" style="padding: 10px; width: 100%; margin-bottom: 10px; border:1px solid #ccc;">
                        <button onclick="updateSalary()" style="width:100%; padding: 10px; background: green; color: white; border: none; cursor: pointer;">Update Salary</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="managment.js"></script>
</body>
</html>